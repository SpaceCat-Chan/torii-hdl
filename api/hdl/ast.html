

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Abstract Syntax Tree &mdash; Torii-HDL 0.4.4.dev24 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/styles.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/styles.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/platformpicker.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/styles.css" type="text/css" />

  
  

  
  

  
    <link rel="canonical" href="https://torii.shmdn.link/api/hdl/ast.html" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/platformpicker.js"></script>
        <script src="../../_static/wavedrom.skin.js"></script>
        <script src="../../_static/wavedrom.min.js"></script>
        <script src="../../_static/js/wavedrom.min.js"></script>
        <script src="../../_static/js/wavedrom.skin.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Clock Domain" href="cd.html" />
    <link rel="prev" title="Torii HDL Reference" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Torii-HDL
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#the-torii-language">The Torii language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#the-torii-standard-library">The Torii standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#the-torii-simulator">The Torii simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#the-torii-build-system">The Torii build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#fpga-toolchain-integration">FPGA toolchain integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#development-board-definitions">Development board definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#system-requirements">System requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#installing-prerequisites">Installing Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#installing-python">Installing Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#installing-yosys-and-gtkwave">Installing Yosys and GTKWave</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#installing-torii">Installing Torii</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#latest-release">Latest release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#development-snapshot">Development snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#editable-development-snapshot">Editable development snapshot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#installing-board-definitions">Installing board definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#id1">Latest release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#id2">Development snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#id3">Editable development snapshot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html#a-counter">A counter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#implementing-a-counter">Implementing a counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#testing-a-counter">Testing a counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started.html#converting-a-counter">Converting a counter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html#a-blinking-led">A blinking LED</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/index.html">Language Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#the-prelude">The prelude</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#values">Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#shapes">Shapes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#shapes-of-values">Shapes of values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#shape-casting">Shape casting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#shapes-from-integers">Shapes from integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#shapes-from-ranges">Shapes from ranges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#shapes-from-enumerations">Shapes from enumerations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#value-casting">Value casting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#values-from-integers">Values from integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#values-from-enumeration-members">Values from enumeration members</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#signals">Signals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#signal-shapes">Signal shapes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#signal-names">Signal names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#initial-signal-values">Initial signal values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#reset-less-signals">Reset-less signals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#performing-or-describing-computations">Performing or describing computations?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#width-extension">Width extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#arithmetic-operators">Arithmetic operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#comparison-operators">Comparison operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#bitwise-shift-and-rotate-operators">Bitwise, shift, and rotate operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#reduction-operators">Reduction operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#logical-operators">Logical operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#bit-sequence-operators">Bit sequence operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#conversion-operators">Conversion operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#choice-operator">Choice operator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../language/index.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#control-domains">Control domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#assigning-to-signals">Assigning to signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#assignment-targets">Assignment targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#assignment-domains">Assignment domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#assignment-order">Assignment order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#control-structures">Control structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#active-and-inactive-assignments">Active and inactive assignments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#combinatorial-evaluation">Combinatorial evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../language/index.html#synchronous-evaluation">Synchronous evaluation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../backend/index.html">Torii Backends</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../backend/cxxrtl.html">CXXRTL Backend</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../backend/cxxrtl.html#torii.back.cxxrtl.YosysError"><code class="docutils literal notranslate"><span class="pre">YosysError</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../backend/rtlil.html">RTLIL Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../backend/verilog.html">Verilog Backend</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../backend/verilog.html#torii.back.verilog.YosysError"><code class="docutils literal notranslate"><span class="pre">YosysError</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Torii HDL Reference</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Abstract Syntax Tree</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Shape"><code class="docutils literal notranslate"><span class="pre">Shape</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.signed"><code class="docutils literal notranslate"><span class="pre">signed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.unsigned"><code class="docutils literal notranslate"><span class="pre">unsigned()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.ShapeCastable"><code class="docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Const"><code class="docutils literal notranslate"><span class="pre">Const</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.AnyConst"><code class="docutils literal notranslate"><span class="pre">AnyConst</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.AnySeq"><code class="docutils literal notranslate"><span class="pre">AnySeq</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Mux"><code class="docutils literal notranslate"><span class="pre">Mux()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Cat"><code class="docutils literal notranslate"><span class="pre">Cat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Repl"><code class="docutils literal notranslate"><span class="pre">Repl</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Array"><code class="docutils literal notranslate"><span class="pre">Array</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Signal"><code class="docutils literal notranslate"><span class="pre">Signal</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.ClockSignal"><code class="docutils literal notranslate"><span class="pre">ClockSignal</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.ResetSignal"><code class="docutils literal notranslate"><span class="pre">ResetSignal</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.ValueCastable"><code class="docutils literal notranslate"><span class="pre">ValueCastable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Sample"><code class="docutils literal notranslate"><span class="pre">Sample</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.Initial"><code class="docutils literal notranslate"><span class="pre">Initial</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.ValueSet"><code class="docutils literal notranslate"><span class="pre">ValueSet</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#torii.hdl.ast.SignalSet"><code class="docutils literal notranslate"><span class="pre">SignalSet</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cd.html">Clock Domain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cd.html#torii.hdl.cd.ClockDomain"><code class="docutils literal notranslate"><span class="pre">ClockDomain</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cd.html#torii.hdl.cd.DomainError"><code class="docutils literal notranslate"><span class="pre">DomainError</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dsl.html">DSL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dsl.html#torii.hdl.dsl.SyntaxError"><code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="dsl.html#torii.hdl.dsl.SyntaxWarning"><code class="docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ir.html">IR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ir.html#torii.hdl.ir.UnusedElaboratable"><code class="docutils literal notranslate"><span class="pre">UnusedElaboratable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ir.html#torii.hdl.ir.DriverConflict"><code class="docutils literal notranslate"><span class="pre">DriverConflict</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mem.html">Memory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mem.html#torii.hdl.mem.Memory"><code class="docutils literal notranslate"><span class="pre">Memory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="mem.html#torii.hdl.mem.ReadPort"><code class="docutils literal notranslate"><span class="pre">ReadPort</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="mem.html#torii.hdl.mem.WritePort"><code class="docutils literal notranslate"><span class="pre">WritePort</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="mem.html#torii.hdl.mem.DummyPort"><code class="docutils literal notranslate"><span class="pre">DummyPort</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rec.html">Records</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rec.html#torii.hdl.rec.Direction"><code class="docutils literal notranslate"><span class="pre">Direction</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="rec.html#torii.hdl.rec.Record"><code class="docutils literal notranslate"><span class="pre">Record</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="xfrm.html">XFRM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../library/index.html">Standard Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../library/coding.html">Code Conversion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../library/coding.html#one-hot-coding">One-hot coding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/coding.html#torii.lib.coding.Encoder"><code class="docutils literal notranslate"><span class="pre">Encoder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/coding.html#torii.lib.coding.Decoder"><code class="docutils literal notranslate"><span class="pre">Decoder</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/coding.html#priority-coding">Priority coding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/coding.html#torii.lib.coding.PriorityEncoder"><code class="docutils literal notranslate"><span class="pre">PriorityEncoder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/coding.html#torii.lib.coding.PriorityDecoder"><code class="docutils literal notranslate"><span class="pre">PriorityDecoder</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/coding.html#gray-coding">Gray coding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/coding.html#torii.lib.coding.GrayEncoder"><code class="docutils literal notranslate"><span class="pre">GrayEncoder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/coding.html#torii.lib.coding.GrayDecoder"><code class="docutils literal notranslate"><span class="pre">GrayDecoder</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../library/cdc.html">Clock Domain Crossing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../library/cdc.html#torii.lib.cdc.FFSynchronizer"><code class="docutils literal notranslate"><span class="pre">FFSynchronizer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/cdc.html#torii.lib.cdc.AsyncFFSynchronizer"><code class="docutils literal notranslate"><span class="pre">AsyncFFSynchronizer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/cdc.html#torii.lib.cdc.ResetSynchronizer"><code class="docutils literal notranslate"><span class="pre">ResetSynchronizer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/cdc.html#torii.lib.cdc.PulseSynchronizer"><code class="docutils literal notranslate"><span class="pre">PulseSynchronizer</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../library/fifo.html">First-in First-out Queues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../library/fifo.html#torii.lib.fifo.FIFOInterface"><code class="docutils literal notranslate"><span class="pre">FIFOInterface</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/fifo.html#torii.lib.fifo.SyncFIFO"><code class="docutils literal notranslate"><span class="pre">SyncFIFO</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/fifo.html#torii.lib.fifo.SyncFIFOBuffered"><code class="docutils literal notranslate"><span class="pre">SyncFIFOBuffered</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/fifo.html#torii.lib.fifo.AsyncFIFO"><code class="docutils literal notranslate"><span class="pre">AsyncFIFO</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../library/fifo.html#torii.lib.fifo.AsyncFIFOBuffered"><code class="docutils literal notranslate"><span class="pre">AsyncFIFOBuffered</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../library/soc/index.html">System on Chip</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../library/soc/event.html">Events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/event.html#torii.lib.soc.event.Source"><code class="docutils literal notranslate"><span class="pre">Source</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/event.html#torii.lib.soc.event.EventMap"><code class="docutils literal notranslate"><span class="pre">EventMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/event.html#torii.lib.soc.event.Monitor"><code class="docutils literal notranslate"><span class="pre">Monitor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/soc/memory.html">Memory Map</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/memory.html#torii.lib.soc.memory.ResourceInfo"><code class="docutils literal notranslate"><span class="pre">ResourceInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/memory.html#torii.lib.soc.memory.MemoryMap"><code class="docutils literal notranslate"><span class="pre">MemoryMap</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/soc/periph.html">Peripherals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/periph.html#torii.lib.soc.periph.ConstantValue"><code class="docutils literal notranslate"><span class="pre">ConstantValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/periph.html#torii.lib.soc.periph.ConstantBool"><code class="docutils literal notranslate"><span class="pre">ConstantBool</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/periph.html#torii.lib.soc.periph.ConstantInt"><code class="docutils literal notranslate"><span class="pre">ConstantInt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/periph.html#torii.lib.soc.periph.ConstantMap"><code class="docutils literal notranslate"><span class="pre">ConstantMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/periph.html#torii.lib.soc.periph.PeripheralInfo"><code class="docutils literal notranslate"><span class="pre">PeripheralInfo</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/soc/csr/index.html">CSRs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/csr/index.html#bus">Bus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/csr/index.html#events">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/csr/index.html#wishbone">Wishbone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/soc/wishbone/index.html">Wishbone Bus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/wishbone/index.html#torii.lib.soc.wishbone.bus.CycleType"><code class="docutils literal notranslate"><span class="pre">CycleType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/wishbone/index.html#torii.lib.soc.wishbone.bus.BurstTypeExt"><code class="docutils literal notranslate"><span class="pre">BurstTypeExt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/wishbone/index.html#torii.lib.soc.wishbone.bus.Interface"><code class="docutils literal notranslate"><span class="pre">Interface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/wishbone/index.html#torii.lib.soc.wishbone.bus.Decoder"><code class="docutils literal notranslate"><span class="pre">Decoder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/soc/wishbone/index.html#torii.lib.soc.wishbone.bus.Arbiter"><code class="docutils literal notranslate"><span class="pre">Arbiter</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../library/stdio/index.html">Industry Standard I/O</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../library/stdio/index.html#serial-i-o">Serial I/O</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/stdio/index.html#torii.lib.stdio.serial.AsyncSerialRX"><code class="docutils literal notranslate"><span class="pre">AsyncSerialRX</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/stdio/index.html#torii.lib.stdio.serial.AsyncSerialTX"><code class="docutils literal notranslate"><span class="pre">AsyncSerialTX</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../library/stdio/index.html#torii.lib.stdio.serial.AsyncSerial"><code class="docutils literal notranslate"><span class="pre">AsyncSerial</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../library/vendor/index.html">FPGA Vendor Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../library/vendor/lattice/index.html">Lattice FPGA Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../library/vendor/lattice/index.html#ice40-blocks">iCE40 Blocks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../library/vendor/xilinx/index.html">Xilinx FPGA Modules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/fpga/index.html">Torii FPGA Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/fpga/intel.html">Intel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/intel.html#torii.platform.vendor.intel.IntelPlatform"><code class="docutils literal notranslate"><span class="pre">IntelPlatform</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/fpga/lattice-ecp5.html">Lattice ECP5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/lattice-ecp5.html#torii.platform.vendor.lattice_ecp5.LatticeECP5Platform"><code class="docutils literal notranslate"><span class="pre">LatticeECP5Platform</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/fpga/lattice-ice40.html">Lattice iCE40</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/lattice-ice40.html#torii.platform.vendor.lattice_ice40.LatticeICE40Platform"><code class="docutils literal notranslate"><span class="pre">LatticeICE40Platform</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/fpga/lattice-machxo-2-3l.html">Lattice MachXO2 and MachXO3L</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/lattice-machxo-2-3l.html#torii.platform.vendor.lattice_machxo_2_3l.LatticeMachXO2Platform"><code class="docutils literal notranslate"><span class="pre">LatticeMachXO2Platform</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/lattice-machxo-2-3l.html#torii.platform.vendor.lattice_machxo_2_3l.LatticeMachXO3LPlatform"><code class="docutils literal notranslate"><span class="pre">LatticeMachXO3LPlatform</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/lattice-machxo-2-3l.html#torii.platform.vendor.lattice_machxo_2_3l.LatticeMachXO2Or3LPlatform"><code class="docutils literal notranslate"><span class="pre">LatticeMachXO2Or3LPlatform</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/fpga/quicklogic.html">Quicklogic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/quicklogic.html#torii.platform.vendor.quicklogic.QuicklogicPlatform"><code class="docutils literal notranslate"><span class="pre">QuicklogicPlatform</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/fpga/xilinx.html">Xilinx</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/fpga/xilinx.html#torii.platform.vendor.xilinx.XilinxPlatform"><code class="docutils literal notranslate"><span class="pre">XilinxPlatform</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sim/index.html">Simulation Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#unreleased">Unreleased</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#added">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#deprecated">Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#removed">Removed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#fixed">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#security">Security</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id1">0.4.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id2">Fixed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id3">0.4.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id4">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id5">0.4.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id6">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id7">0.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id8">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id9">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id10">Removed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id11">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id12">0.1.0 - 0.3.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects Using Torii</a></li>
<li class="toctree-l1"><a class="reference external" href="https://shrine-maiden-heavy-industries.github.io/torii-boards/">Torii Boards</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/">Source Code</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Torii-HDL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">API Reference</a> &raquo;</li>
        
          <li><a href="index.html">Torii HDL Reference</a> &raquo;</li>
        
      <li>Abstract Syntax Tree</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/blob/main/docs/api/hdl/ast.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="abstract-syntax-tree">
<h1>Abstract Syntax Tree<a class="headerlink" href="#abstract-syntax-tree" title="Permalink to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Torii API reference is a work in progress and we are actively working on improving it,
however it may be deficient or missing in places.</p>
</div>
<span class="target" id="module-torii.hdl.ast"></span><dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Shape">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Shape</span></code> can be constructed using:</p>
<blockquote>
<div><ul class="simple">
<li><p>explicit bit width and signedness;</p></li>
<li><p>aliases <a class="reference internal" href="#torii.hdl.ast.signed" title="torii.hdl.ast.signed"><code class="xref py py-func docutils literal notranslate"><span class="pre">signed()</span></code></a> and <a class="reference internal" href="#torii.hdl.ast.unsigned" title="torii.hdl.ast.unsigned"><code class="xref py py-func docutils literal notranslate"><span class="pre">unsigned()</span></code></a>;</p></li>
<li><p>casting from a variety of objects.</p></li>
</ul>
</div></blockquote>
<p>A <code class="docutils literal notranslate"><span class="pre">Shape</span></code> can be cast from:</p>
<blockquote>
<div><ul class="simple">
<li><p>an integer, where the integer specifies the bit width;</p></li>
<li><dl class="simple">
<dt>a range, where the result is wide enough to represent any element of the range, and is</dt><dd><p>signed if any element of the range is signed;</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>an <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code> with all integer members or <code class="xref py py-class docutils literal notranslate"><span class="pre">IntEnum</span></code>, where the result is wide</dt><dd><p>enough to represent any member of the enumeration, and is signed if any member of
the enumeration is signed.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of bits in the representation, including the sign bit (if any).</p></li>
<li><p><strong>signed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the value is unsigned. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the value is signed two’s complement.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii.hdl.ast.signed">
<span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">signed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a></span></span><a class="headerlink" href="#torii.hdl.ast.signed" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for <code class="docutils literal notranslate"><span class="pre">Shape(width,</span> <span class="pre">signed</span> <span class="pre">=</span> <span class="pre">True)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii.hdl.ast.unsigned">
<span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">unsigned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a></span></span><a class="headerlink" href="#torii.hdl.ast.unsigned" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for <code class="docutils literal notranslate"><span class="pre">Shape(width,</span> <span class="pre">signed</span> <span class="pre">=</span> <span class="pre">False)</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.ShapeCastable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">ShapeCastable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ShapeCastable" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface of user-defined objects that can be cast to <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> s.</p>
<p>An object deriving from <a class="reference internal" href="#torii.hdl.ast.ShapeCastable" title="torii.hdl.ast.ShapeCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShapeCastable</span></code></a> is automatically converted to a <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>
when it is used in a context where a <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> is expected. Such objects can contain
a richer description of the shape than what is supported by the core Torii language, yet
still be transparently used with it.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Const">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Const" title="Permalink to this definition">¶</a></dt>
<dd><p>A constant, literal integer value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – </p></li>
<li><p><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em> or </em><em>None</em>) – Either an integer <code class="docutils literal notranslate"><span class="pre">width</span></code> or a tuple <code class="docutils literal notranslate"><span class="pre">(width,</span> <span class="pre">signed)</span></code> specifying the number of bits
in this constant and whether it is signed (can represent negative values).
<code class="docutils literal notranslate"><span class="pre">shape</span></code> defaults to the minimum possible width and signedness of <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – </p></li>
<li><p><strong>signed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Const.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a></span></span><a class="headerlink" href="#torii.hdl.ast.Const.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.AnyConst">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">AnyConst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.11)"><span class="pre">range</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)"><span class="pre">type</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#torii.hdl.ast.ShapeCastable" title="torii.hdl.ast.ShapeCastable"><span class="pre">ShapeCastable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.AnyConst" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.AnySeq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">AnySeq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.11)"><span class="pre">range</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)"><span class="pre">type</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#torii.hdl.ast.ShapeCastable" title="torii.hdl.ast.ShapeCastable"><span class="pre">ShapeCastable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.AnySeq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torii.hdl.ast.Mux">
<span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Mux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Value</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Operator</span></span></span><a class="headerlink" href="#torii.hdl.ast.Mux" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose between two values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sel</strong> (<em>Value</em><em>, </em><em>in</em>) – Selector.</p></li>
<li><p><strong>val1</strong> (<em>Value</em><em>, </em><em>in</em>) – </p></li>
<li><p><strong>val0</strong> (<em>Value</em><em>, </em><em>in</em>) – Input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Output <code class="docutils literal notranslate"><span class="pre">Value</span></code>. If <code class="docutils literal notranslate"><span class="pre">sel</span></code> is asserted, the Mux returns <code class="docutils literal notranslate"><span class="pre">val1</span></code>, else <code class="docutils literal notranslate"><span class="pre">val0</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Value, out</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Cat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Cat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Value</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate values.</p>
<p>Form a compound <code class="docutils literal notranslate"><span class="pre">Value</span></code> from several smaller ones by concatenation.
The first argument occupies the lower bits of the result.
The return value can be used on either side of an assignment, that
is, the concatenated value can be used as an argument on the RHS or
as a target on the LHS. If it is used on the LHS, it must solely
consist of <code class="docutils literal notranslate"><span class="pre">Signal</span></code> s, slices of <code class="docutils literal notranslate"><span class="pre">Signal</span></code> s, and other concatenations
meeting these properties. The bit length of the return value is the sum of
the bit lengths of the arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">Cat</span><span class="p">(</span><span class="n">args</span><span class="p">))</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*args</strong> (<em>Values</em><em> or </em><em>iterables</em><em> of </em><em>Values</em><em>, </em><em>inout</em>) – <code class="docutils literal notranslate"><span class="pre">Value</span></code> s to be concatenated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Resulting <code class="docutils literal notranslate"><span class="pre">Value</span></code> obtained by concatenation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Value, inout</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Cat.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a></span></span><a class="headerlink" href="#torii.hdl.ast.Cat.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Repl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Repl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Repl" title="Permalink to this definition">¶</a></dt>
<dd><p>Replicate a value</p>
<p>An input value is replicated (repeated) several times
to be used on the RHS of assignments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">Repl</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>Value</em><em>, </em><em>in</em>) – Input value to be replicated.</p></li>
<li><p><strong>count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Number of replications.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Replicated value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#torii.hdl.ast.Repl" title="torii.hdl.ast.Repl">Repl</a>, out</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Repl.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a></span></span><a class="headerlink" href="#torii.hdl.ast.Repl.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Array">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Array" title="Permalink to this definition">¶</a></dt>
<dd><p>Addressable multiplexer.</p>
<p>An array is similar to a <code class="docutils literal notranslate"><span class="pre">list</span></code> that can also be indexed by <code class="docutils literal notranslate"><span class="pre">Value``s;</span>
<span class="pre">indexing</span> <span class="pre">by</span> <span class="pre">an</span> <span class="pre">integer</span> <span class="pre">or</span> <span class="pre">a</span> <span class="pre">slice</span> <span class="pre">works</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">as</span> <span class="pre">for</span> <span class="pre">Python</span> <span class="pre">lists,</span>
<span class="pre">but</span> <span class="pre">indexing</span> <span class="pre">by</span> <span class="pre">a</span> <span class="pre">``Value</span></code> results in a proxy.</p>
<p>The array proxy can be used as an ordinary <code class="docutils literal notranslate"><span class="pre">Value</span></code>, i.e. participate in calculations and
assignments, provided that all elements of the array are values. The array proxy also supports
attribute access and further indexing, each returning another array proxy; this means that
the results of indexing into arrays, arrays of records, and arrays of arrays can all
be used as first-class values.</p>
<p>It is an error to change an array or any of its elements after an array proxy was created.
Changing the array directly will raise an exception. However, it is not possible to detect
the elements being modified; if an element’s attribute or element is modified after the proxy
for it has been created, the proxy will refer to stale data.</p>
<p class="rubric">Examples</p>
<p>Simple array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gpios</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">Signal</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="k">with</span> <span class="n">m</span><span class="o">.</span><span class="n">If</span><span class="p">(</span><span class="n">bus</span><span class="o">.</span><span class="n">we</span><span class="p">):</span>
        <span class="n">m</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">sync</span> <span class="o">+=</span> <span class="n">gpios</span><span class="p">[</span><span class="n">bus</span><span class="o">.</span><span class="n">addr</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">bus</span><span class="o">.</span><span class="n">w_data</span><span class="p">)</span>
<span class="k">with</span> <span class="n">m</span><span class="o">.</span><span class="n">Else</span><span class="p">():</span>
        <span class="n">m</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">sync</span> <span class="o">+=</span> <span class="n">bus</span><span class="o">.</span><span class="n">r_data</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">gpios</span><span class="p">[</span><span class="n">bus</span><span class="o">.</span><span class="n">addr</span><span class="p">])</span>
</pre></div>
</div>
<p>Multidimensional array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mult</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">Array</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Signal</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Signal</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">comb</span> <span class="o">+=</span> <span class="n">r</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">mult</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="n">b</span><span class="p">])</span>
</pre></div>
</div>
<p>Array of records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">layout</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;r_data&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;r_en&quot;</span><span class="p">,</span>   <span class="mi">1</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">buses</span>  <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">Record</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span> <span class="k">for</span> <span class="n">busno</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">master</span> <span class="o">=</span> <span class="n">Record</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">comb</span> <span class="o">+=</span> <span class="p">[</span>
        <span class="n">buses</span><span class="p">[</span><span class="n">sel</span><span class="p">]</span><span class="o">.</span><span class="n">r_en</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">master</span><span class="o">.</span><span class="n">r_en</span><span class="p">),</span>
        <span class="n">master</span><span class="o">.</span><span class="n">r_data</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">buses</span><span class="p">[</span><span class="n">sel</span><span class="p">]</span><span class="o">.</span><span class="n">r_data</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Array.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Array.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>S.insert(index, value) – insert value before index</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Signal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_less</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Signal" title="Permalink to this definition">¶</a></dt>
<dd><p>A varying integer value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<code class="docutils literal notranslate"><span class="pre">Shape</span></code>-castable object or None) – Specification for the number of bits in this <code class="docutils literal notranslate"><span class="pre">Signal</span></code> and its signedness (whether it
can represent negative values). See <code class="docutils literal notranslate"><span class="pre">Shape.cast</span></code> for details.
If not specified, <code class="docutils literal notranslate"><span class="pre">shape</span></code> defaults to 1-bit and non-signed.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Name hint for this signal. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (default) the name is inferred from the variable
name this <code class="docutils literal notranslate"><span class="pre">Signal</span></code> is assigned to.</p></li>
<li><p><strong>reset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em> or </em><em>integral Enum</em>) – Reset (synchronous) or default (combinatorial) value.
When this <code class="docutils literal notranslate"><span class="pre">Signal</span></code> is assigned to in synchronous context and the corresponding clock
domain is reset, the <code class="docutils literal notranslate"><span class="pre">Signal</span></code> assumes the given value. When this <code class="docutils literal notranslate"><span class="pre">Signal</span></code> is unassigned
in combinatorial context (due to conditional assignments not being taken), the <code class="docutils literal notranslate"><span class="pre">Signal</span></code>
assumes its <code class="docutils literal notranslate"><span class="pre">reset</span></code> value. Defaults to 0.</p></li>
<li><p><strong>reset_less</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, do not generate reset logic for this <code class="docutils literal notranslate"><span class="pre">Signal</span></code> in synchronous statements.
The <code class="docutils literal notranslate"><span class="pre">reset</span></code> value is only used as a combinatorial default or as the initial value.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – Dictionary of synthesis attributes.</p></li>
<li><p><strong>decoder</strong> (<em>function</em><em> or </em><em>Enum</em>) – A function converting integer signal values to human-readable strings (e.g. FSM state
names). If an <code class="docutils literal notranslate"><span class="pre">Enum</span></code> subclass is passed, it is concisely decoded using format string
<code class="docutils literal notranslate"><span class="pre">&quot;{0.name:}/{0.value:}&quot;</span></code>, or a number if the signal value is not a member of
the enumeration.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – </p></li>
<li><p><strong>signed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – </p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – </p></li>
<li><p><strong>reset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – </p></li>
<li><p><strong>reset_less</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – </p></li>
<li><p><strong>attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – </p></li>
<li><p><strong>decoder</strong> (<em>function</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Signal.like">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">like</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Signal.like" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Signal based on another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<em>Value</em>) – Object to base this Signal on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Signal.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Signal.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.ClockSignal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">ClockSignal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sync'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ClockSignal" title="Permalink to this definition">¶</a></dt>
<dd><p>Clock signal for a clock domain.</p>
<p>Any <code class="docutils literal notranslate"><span class="pre">ClockSignal</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">cd.clk</span></code> for a clock domain with the corresponding name.
All of these signals ultimately refer to the same signal, but they can be manipulated
independently of the clock domain, even before the clock domain is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Clock domain to obtain a clock signal for. Defaults to <code class="docutils literal notranslate"><span class="pre">'sync'</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.ClockSignal.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ClockSignal.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.ResetSignal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">ResetSignal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sync'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_reset_less</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ResetSignal" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset signal for a clock domain.</p>
<p>Any <code class="docutils literal notranslate"><span class="pre">ResetSignal</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">cd.rst</span></code> for a clock domain with the corresponding name.
All of these signals ultimately refer to the same signal, but they can be manipulated
independently of the clock domain, even before the clock domain is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Clock domain to obtain a reset signal for. Defaults to <code class="docutils literal notranslate"><span class="pre">'sync'</span></code>.</p></li>
<li><p><strong>allow_reset_less</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If the clock domain is reset-less, act as a constant <code class="docutils literal notranslate"><span class="pre">0</span></code> instead of reporting an error.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.ResetSignal.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><span class="pre">Shape</span></a></span></span><a class="headerlink" href="#torii.hdl.ast.ResetSignal.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.ValueCastable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">ValueCastable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ValueCastable" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface of user-defined objects that can be cast to <code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code> s.</p>
<p>An object deriving from <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable`</span></code> is automatically converted to a <code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code>
when it is used in a context where a <code class="xref py py-class docutils literal notranslate"><span class="pre">Value`</span></code> is expected. Such objects can implement
different or richer semantics than what is supported by the core Torii language, yet still
be transparently used with it as long as the final underlying representation is a single
Torii <code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code>. These objects also need not commit to a specific representation until
they are converted to a concrete Torii value.</p>
<p>Note that it is necessary to ensure that Torii’s view of representation of all values stays
internally consistent. The class deriving from <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable`</span></code> must decorate
the <code class="xref py py-meth docutils literal notranslate"><span class="pre">as_value()</span></code> method with the <a class="reference internal" href="#torii.hdl.ast.ValueCastable.lowermethod" title="torii.hdl.ast.ValueCastable.lowermethod"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lowermethod()</span></code></a> decorator, which ensures that all
calls to <code class="xref py py-meth docutils literal notranslate"><span class="pre">as_value()</span></code> return the same <code class="xref py py-class docutils literal notranslate"><span class="pre">Value</span></code> representation. If the class deriving
from <a class="reference internal" href="#torii.hdl.ast.ValueCastable" title="torii.hdl.ast.ValueCastable"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueCastable</span></code></a> is mutable, it is up to the user to ensure that it is not mutated
in a way that changes its representation after the first call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">as_value()</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.ValueCastable.lowermethod">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lowermethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ValueCastable.lowermethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to memoize lowering methods.</p>
<p>Ensures the decorated method is called only once, with subsequent method calls returning
the object returned by the first first method call.</p>
<p>This decorator is required to decorate the <code class="docutils literal notranslate"><span class="pre">as_value</span></code> method of <code class="docutils literal notranslate"><span class="pre">ValueCastable</span></code>
subclasses. This is to ensure that Torii’s view of representation of all values stays
internally consistent.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Sample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clocks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Value from the past.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Sample</span></code> of an expression is equal to the value of the expression <code class="docutils literal notranslate"><span class="pre">clocks</span></code> clock edges
of the <code class="docutils literal notranslate"><span class="pre">domain</span></code> clock back. If that moment is before the beginning of time, it is equal
to the value of the expression calculated as if each signal had its reset value.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Sample.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Sample.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.Initial">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">Initial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Start indicator, for model checking.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">Initial</span></code> signal is <code class="docutils literal notranslate"><span class="pre">1</span></code> at the first cycle of model checking, and <code class="docutils literal notranslate"><span class="pre">0</span></code> at any other.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torii.hdl.ast.Initial.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.Initial.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit width and signedness of a value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#torii.hdl.ast.Shape" title="torii.hdl.ast.Shape">Shape</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Signal</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Const</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">Shape(width = 8, signed = False)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.ValueSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">ValueSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.ValueSet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torii.hdl.ast.SignalSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torii.hdl.ast.</span></span><span class="sig-name descname"><span class="pre">SignalSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#torii.hdl.ast.SignalSet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="cd.html" class="btn btn-neutral float-right" title="Clock Domain" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Torii HDL Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Shrine Maiden Heavy Industries.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>